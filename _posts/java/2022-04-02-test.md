---
title:  "í…ŒìŠ¤íŠ¸" 
excerpt: "í…ŒìŠ¤íŠ¸2"

categories:
  - Design Patterns
tags:
  - [í…ŒìŠ¤íŠ¸3]

toc: true
toc_sticky: true

date: 2022-04-02
last_modified_at: 2022-04-02
---

ì¸í”„ëŸ°ì— ìˆëŠ” ê¹€ì˜í•œ ë‹˜ì˜ **ìŠ¤í”„ë§ í•µì‹¬ ì›ë¦¬ - ê³ ê¸‰í¸** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ ë‚´ìš© ì…ë‹ˆë‹¤. ğŸ˜€    
[ğŸŒœ [ìŠ¤í”„ë§ í•µì‹¬ì›ë¦¬ - ê³ ê¸‰í¸]ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸°!](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B3%A0%EA%B8%89%ED%8E%B8/dashboard){:target="_blank"}
{: .notice--warning}


# ğŸ”” ë™ì‹œì„± ë¬¸ì œë€?

```java
@Slf4j
public class FieldService {

    private String nameStore;

    public String logic(String name) {
        log.info("ì €ì¥ name{} => nameStore={}", name, nameStore);
        nameStore = name;
        sleep(1000);
        log.info("ì¡°íšŒ nameStore={}", nameStore);
        return nameStore;
    }

    private void sleep(int millis) {
        try {
            Thread.sleep(millis);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}
```
ìœ„ì˜ ì½”ë“œëŠ” paramìœ¼ë¡œ ë°›ì€ nameê°’ì„ nameStoreì— ì €ì¥í•˜ê³  1ì´ˆ í›„ì— nameStoreì˜ ê°’ì„ ì¡°íšŒí•˜ëŠ” ê°„ë‹¨í•œ ì½”ë“œì´ë‹¤.  

<br>

## ğŸ”” í…ŒìŠ¤íŠ¸
ìœ„ì˜ ì½”ë“œë¡œ ì•„ë˜ì™€ ê°™ì€ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ ë³´ì.

```java
@Slf4j
public class FieldServiceTest {

    private FieldService fieldService = new FieldService();

    @Test
    void field() {
        log.info("main start");
        Runnable userA = () -> {
            fieldService.logic("userA");
        };
        Runnable userB = () -> {
            fieldService.logic("userB");
        };

        Thread threadA = new Thread(userA);
        threadA.setName("thread-A");
        Thread threadB = new Thread(userB);
        threadB.setName("thread-B");

        threadA.start();
//        sleep(2000); // ë™ì‹œì„± ë¬¸ì œ ë°œìƒX
        sleep(100); // ë™ì‹œì„± ë¬¸ì œ ë°œìƒO
        threadB.start();

        sleep(3000); // ë©”ì¸ ì“°ë ˆë“œ ì¢…ë£Œ ëŒ€ê¸°
        log.info("main exit");
    }

    private void sleep(int millis) {
        try {
            Thread.sleep(millis);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}
```

ìœ„ì˜ í…ŒìŠ¤íŠ¸ì˜ ì‹¤í–‰ê²°ê³¼ ì´ë‹¤.  

![img01](https://user-images.githubusercontent.com/93430103/161389452-e487d153-d293-4c4a-9a3b-dfc7f7c8d821.png)

userBê°€ 2ë²ˆ ì¡°íšŒ ë˜ì—ˆë‹¤.  
thread-AëŠ” userAë¥¼ ì €ì¥í–ˆì§€ë§Œ ì¡°íšŒí•´ì˜¨ ê°’ì€ userBê°€ ì¡°íšŒ ë˜ì—ˆë‹¤.

ì •ë¦¬í•˜ìë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.
* Thread-AëŠ” userAë¥¼ nameStoreì— ì €ì¥í–ˆë‹¤.  
* Thread-BëŠ” userBë¥¼ nameStoreì— ì €ì¥í–ˆë‹¤.
* Thread-AëŠ” userBë¥¼ nameStoreì—ì„œ ì¡°íšŒí–ˆë‹¤.
* Thread-BëŠ” userBë¥¼ nameStoreì—ì„œ ì¡°íšŒí–ˆë‹¤.

<br>

##  ğŸ”” ê²°ë¡ 
ì´ ì²˜ëŸ¼ ì—¬ëŸ¬ ì“°ë ˆë“œê°€ ë™ì‹œì— ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ì˜ í•„ë“œ ê°’ì„ ë³€ê²½í•˜ë©´ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œë¥¼ `ë™ì‹œì„± ë¬¸ì œ`ë¼ê³  í•œë‹¤. 

>ë‹¹ì—°í•œ ì´ì•¼ê¸°ì§€ë§Œ `ì§€ì—­ ë³€ìˆ˜`ëŠ” ì“°ë ˆë“œë§ˆë‹¤ ê°ê° ë‹¤ë¥¸ ë©”ëª¨ë¦¬ ì˜ì—­ì´ í• ë‹¹ë˜ë¯€ë¡œ `ë™ì‹œì„± ë¬¸ì œ`ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.  
`ë™ì‹œì„± ë¬¸ì œ`ê°€ ë°œìƒí•˜ëŠ” ê³³ì€ ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ì˜ í•„ë“œ(ì£¼ë¡œ ì‹±ê¸€í†¤ì—ì„œ ìì£¼ ë°œìƒ), ë˜ëŠ” static ê°™ì€ ê³µìš©í•„ë“œì— ì ‘ê·¼í•  ë•Œ ë°œìƒí•œë‹¤.   
`ë™ì‹œì„± ë¬¸ì œ`ëŠ” ê°’ì„ ì½ê¸°ë§Œ í•˜ë©´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ì–´ë””ì„ ê°€ ê°’ì„ ë³€ê²½í•˜ê¸° ë•Œë¬¸ì— ë°œìƒí•œë‹¤.

ìŠ¤í”„ë§ì˜ ë¹ˆ ê°ì²´ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì‹±ê¸€í†¤ì´ê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ `ë™ì‹œì„± ë¬¸ì œ`ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

ê·¸ë ‡ë‹¤ë©´ ì´ëŸ¬í•œ `ë™ì‹œì„± ë¬¸ì œ`ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ë°©ë²•ì—ëŠ” ì–´ë–¤ ë°©ë²•ì´ ìˆì„ê¹Œ?  
ë‹¤ìŒì‹œê°„ì— ì´ì–´ì„œ ì•Œì•„ë³´ì.


[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}
<br>
