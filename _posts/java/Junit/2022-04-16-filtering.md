---
title:  "í…ŒìŠ¤íŠ¸" 
excerpt: "í…ŒìŠ¤íŠ¸ì¤‘"

categories:
  - JUnit
tags:
  - [test]

toc: true
toc_sticky: true

date: 2022-04-16
last_modified_at: 2022-04-16
---

ì¸í”„ëŸ°ì— ìˆëŠ” ë°±ê¸°ì„  ë‹˜ì˜ **ë” ìë°”, ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë‹¤ì–‘í•œ ë°©ë²•** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ ë‚´ìš© ì…ë‹ˆë‹¤. ğŸ˜€    
[ğŸŒœ [ë” ìë°”, ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë‹¤ì–‘í•œ ë°©ë²•]ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸°!](https://www.inflearn.com/course/the-java-application-test/dashboard){:target="_blank"}
{: .notice--warning}

```java
  @Test
  @DisplayName("ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸")
  @Tag("fast")
  void create_new_study() {
    ...
  }
  @Test
  @DisplayName("ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸")
  @Tag("fast")
  void create_new_study() {
    ...
  }
```

<!-- ë””ìì¸ íŒ¨í„´ì¤‘ í•˜ë‚˜ì¸ `í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´`ì— ëŒ€í•´ ì•Œì•„ë³´ì.  

## ğŸ”” í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì´ í•„ìš”í•œ ìƒí™©
ê¸°ì¡´ ì½”ë“œì— ë¡œê·¸ ì¶”ì ê¸°ë¥¼ ì¶”ê°€í•´ì•¼ ë˜ëŠ” ìƒí™©ì´ ìƒê²¼ë‹¤ê³  ê°€ì •í•´ ë³´ì.

**ë¡œê·¸ ì¶”ì ê¸° ë„ì… ì „ ì½”ë“œ**
```java
  //OrderControllerV0 ì½”ë“œ 
  @GetMapping("/v0/request")
  public String request(String itemId) {
      orderService.orderItem(itemId);
      return "ok";
  }

  //OrderServiceV0 ì½”ë“œ
  public void orderItem(String itemId) {
      orderRepository.save(itemId);
  } 
```

**ë¡œê·¸ ì¶”ì ê¸° ë„ì… í›„ ì½”ë“œ**
```java
  //OrderControllerV3 ì½”ë“œ 
  @GetMapping("/v3/request")
  public String request(String itemId) {
      TraceStatus status = null;
      try {
          status = trace.begin("OrderController.request()");
          orderService.orderItem(itemId); //í•µì‹¬ ê¸°ëŠ¥
          trace.end(status);
      } catch (Exception e) {
          trace.exception(status, e);
          throw e; 
      }

      return "ok";
  }

  //OrderServiceV3 ì½”ë“œ
  public void orderItem(String itemId) {
      TraceStatus status = null;
      try {
          status = trace.begin("OrderService.orderItem()"); 
          orderRepository.save(itemId); //í•µì‹¬ ê¸°ëŠ¥
          trace.end(status);
      } catch (Exception e) {
          trace.exception(status, e);
          throw e;
      }
  }
 
```

ì—¬ê¸°ì„œ TraceStatusì˜ ì—­í• ì„ ìì„¸í•˜ê²Œ ì•Œ í•„ìš”ëŠ” ì—†ê³  ê·¸ëƒ¥ ë¡œê·¸ë¥¼ ì°ê¸° ìœ„í•œ í´ë˜ìŠ¤ ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤.  

V0 ì‹œì ˆ ì½”ë“œì™€ ë¹„êµí•´ì„œ V3ì½”ë“œë¥¼ ë³´ì.  
V0ëŠ” í•´ë‹¹ ë©”ì„œë“œê°€ ì‹¤ì œ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ” í•µì‹¬ ê¸°ëŠ¥ë§Œ ê¹”ë”í•˜ê²Œ ë‚¨ì•„ìˆë‹¤. ë°˜ë©´ì— V3ì—ëŠ” í•µì‹¬ ê¸°ëŠ¥ë³´ë‹¤ ë¡œê·¸ë¥¼ ì¶œë ¥í•´ì•¼ í•˜ëŠ” ë¶€ê°€ ê¸°ëŠ¥ ì½”ë“œê°€ í›¨ì”¬ ë” ë§ê³  ë³µì¡í•˜ë‹¤.  
ì•ìœ¼ë¡œ ì½”ë“œë¥¼ ì„¤ëª…í•  ë•Œ í•µì‹¬ ê¸°ëŠ¥ê³¼ ë¶€ê°€ ê¸°ëŠ¥ìœ¼ë¡œ êµ¬ë¶„í•´ì„œ ì„¤ëª…í•˜ê² ë‹¤.

### í•µì‹¬ ê¸°ëŠ¥ vs ë¶€ê°€ ê¸°ëŠ¥
* **í•µì‹¬ ê¸°ëŠ¥**ì€ í•´ë‹¹ ê°ì²´ê°€ ì œê³µí•˜ëŠ” ê³ ìœ ì˜ ê¸°ëŠ¥ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ `orderService`ì˜ í•µì‹¬ ê¸°ëŠ¥ì€ ì£¼ë¬¸ë¡œì§ì´ë‹¤.  
ë©”ì„œë“œ ë‹¨ìœ„ë¡œ ë³´ë©´ `orderService.orderItem()`ì˜ í•µì‹¬ ê¸°ëŠ¥ì€ ì£¼ë¬¸ ë¦¬í¬ì§€í† ë¦¬ë¥¼ í˜¸ì¶œí•˜ëŠ” `orderRepository.save(itemId)`ì½”ë“œê°€ í•µì‹¬ ê¸°ëŠ¥ì´ë‹¤.
* **ë¶€ê°€ ê¸°ëŠ¥**ì€ í•µì‹¬ ê¸°ëŠ¥ì„ ë³´ì¡°í•˜ê¸° ìœ„í•´ ì œê³µë˜ëŠ” ê¸°ëŠ¥ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ ë¡œê·¸ ì¶”ì  ë¡œì§, íŠ¸ëœì­ì…˜ ê¸°ëŠ¥ì´ ìˆë‹¤. ì´ëŸ¬í•œ ë¶€ê°€ ê¸°ëŠ¥ì€ ë‹¨ë…ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ëŠ” ì•Šê³ , í•µì‹¬ ê¸°ëŠ¥ê³¼ í•¨ê»˜ ì‚¬ìš©ëœë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ ë¡œê·¸ ì¶”ì  ê¸°ëŠ¥ì€ ì–´ë–¤ í•µì‹¬ ê¸°ëŠ¥ì´ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ ë¡œê·¸ë¥¼ ë‚¨ê¸°ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤. ê·¸ëŸ¬ë‹ˆê¹Œ í•µì‹¬ ê¸°ëŠ¥ì„ ë³´ì¡°í•˜ê¸° ìœ„í•´ ì¡´ì¬í•œë‹¤.

V0ì—ëŠ” í•µì‹¬ ê¸°ëŠ¥ë§Œ ìˆì§€ë§Œ, ë¡œê·¸ ì¶”ì ê¸°ë¥¼ ì¶”ê°€í•œ V3ì½”ë“œëŠ” í•µì‹¬ ê¸°ëŠ¥ê³¼ ë¶€ê°€ ê¸°ëŠ¥ì´ í•¨ê»˜ ì„ì—¬ìˆë‹¤.  
V3ë¥¼ ë³´ë©´ ë¡œê·¸ ì¶”ì ê¸°ì˜ ë„ì…ìœ¼ë¡œ í•µì‹¬ ê¸°ëŠ¥ ì½”ë“œë³´ë‹¤ ë¶€ê°€ ê¸°ëŠ¥ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ì½”ë“œê°€ ë” ë§ì•„ì¡Œë‹¤.  
ì†Œìœ„ ë°°ë³´ë‹¤ ë°°ê¼½ì´ í° ìƒí™©ì´ë‹¤. ë§Œì•½ í´ë˜ìŠ¤ê°€ ìˆ˜ë°± ê°œë¼ë©´ ì–´ë–»ê²Œ í•˜ê² ëŠ”ê°€?

ì´ ë¬¸ì œë¥¼ ì¢€ ë” íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ìˆì„ê¹Œ?  
V3 ì½”ë“œë¥¼ ìœ ì‹¬íˆ ì˜ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë™ì¼í•œ íŒ¨í„´ì´ ìˆë‹¤.

```java
  TraceStatus status = null;
  try {
      status = trace.begin("message"); 
      //í•µì‹¬ ê¸°ëŠ¥ í˜¸ì¶œ
      trace.end(status);
  } catch (Exception e) {
      trace.exception(status, e);
      throw e; 
  }
```
`Controller`, `Service`ì˜ ì½”ë“œë¥¼ ì˜ ë³´ë©´, ë¡œê·¸ ì¶”ì ê¸°ë¥¼ ì‚¬ìš©í•˜ëŠ” êµ¬ì¡°ëŠ” ëª¨ë‘ ë™ì¼í•˜ë‹¤.  
ì¤‘ê°„ì— í•µì‹¬ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ëŠ” ì½”ë“œë§Œ ë‹¤ë¥¼ ë¿ì´ë‹¤.  
ë¶€ê°€ ê¸°ëŠ¥ê³¼ ê´€ë ¨ëœ ì½”ë“œê°€ ì¤‘ë³µì´ë‹ˆ ì¤‘ë³µì„ ë³„ë„ì˜ ë©”ì„œë“œë¡œ ë½‘ì•„ë‚´ë©´ ë  ê²ƒ ê°™ë‹¤. ê·¸ëŸ°ë°, `try ~ catch` ëŠ” ë¬¼ë¡ ì´ê³ , í•µì‹¬ ê¸°ëŠ¥ ë¶€ë¶„ì´ ì¤‘ê°„ì— ìˆì–´ì„œ ë‹¨ìˆœí•˜ê²Œ ë©”ì„œë“œë¡œ ì¶”ì¶œí•˜ëŠ” ê²ƒì€ ì–´ë µë‹¤.

### ë³€í•˜ëŠ” ê²ƒê³¼ ë³€í•˜ì§€ ì•ŠëŠ” ê²ƒì„ ë¶„ë¦¬
ì¢‹ì€ ì„¤ê³„ëŠ” ë³€í•˜ëŠ” ê²ƒê³¼ ë³€í•˜ì§€ ì•ŠëŠ” ê²ƒì„ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤.  
ì—¬ê¸°ì„œ í•µì‹¬ ê¸°ëŠ¥ ë¶€ë¶„ì€ ë³€í•˜ê³ , ë¡œê·¸ ì¶”ì ê¸°ë¥¼ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„ì€ ë³€í•˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì´ë‹¤.  
ì´ ë‘˜ì„ ë¶„ë¦¬í•´ì„œ ëª¨ë“ˆí™”í•´ì•¼ í•œë‹¤.  

`í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´(Template Method Pattern)`ì€ ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë””ìì¸ íŒ¨í„´ì´ë‹¤.


## ğŸ”” ì˜ˆì œ
í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì„ ì‰½ê²Œ ì´í•´í•˜ê¸° ìœ„í•´ ë‹¨ìˆœí•œ ì˜ˆì œ ì½”ë“œë¥¼ ë§Œë“¤ì–´ ë³´ì.

### í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ - ì˜ˆì œ1

**TemplateMethodTest**
```java
  @Slf4j
  public class TemplateMethodTest {
    @Test
    void templateMethodV0() {
      logic1();
      logic2();
    }

    private void logic1() {
      long startTime = System.currentTimeMillis(); //ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰
      log.info("ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§1 ì‹¤í–‰");
      //ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì¢…ë£Œ
      long endTime = System.currentTimeMillis(); long resultTime = endTime - startTime; log.info("resultTime={}", resultTime);
    }

    private void logic2() {
      long startTime = System.currentTimeMillis(); //ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰
      log.info("ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§2 ì‹¤í–‰");
      //ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì¢…ë£Œ
      long endTime = System.currentTimeMillis();
      long resultTime = endTime - startTime;
      log.info("resultTime={}", resultTime);
    }
  }
```

**ì‹¤í–‰ ê²°ê³¼**
```
ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§1 ì‹¤í–‰
resultTime=5
ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§2 ì‹¤í–‰
resultTime=1
```
`logic1()` ê³¼ `logic2()` ëŠ” ì‹œê°„ì„ ì¸¡ì •í•˜ëŠ” ë¶€ë¶„ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì‹¤í–‰í•˜ëŠ” ë¶€ë¶„ì´ í•¨ê»˜ ì¡´ì¬í•œë‹¤.

* ë³€í•˜ëŠ” ë¶€ë¶„: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
* ë³€í•˜ì§€ ì•ŠëŠ” ë¶€ë¶„: ì‹œê°„ ì¸¡ì •

ì´ì œ í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì„ ì‚¬ìš©í•´ì„œ ë³€í•˜ëŠ” ë¶€ë¶„ê³¼ ë³€í•˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì„ ë¶„ë¦¬í•´ ë³´ì.

### í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ - ì˜ˆì œ2

**í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ êµ¬ì¡° ê·¸ë¦¼**
![img06](https://user-images.githubusercontent.com/93430103/161556921-074467bd-07d7-4ae9-9d1b-816ac6d9aa7a.png)

**AbstractTemplate**
```java
  @Slf4j
  public abstract class AbstractTemplate {
    public void execute() {
      long startTime = System.currentTimeMillis(); //ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰
      call(); //ìƒì†
      //ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì¢…ë£Œ
      long endTime = System.currentTimeMillis(); 
      long resultTime = endTime - startTime; 
      log.info("resultTime={}", resultTime);
    }
    protected abstract void call();
  }
```
í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì€ ì´ë¦„ ê·¸ëŒ€ë¡œ í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë‹¤. í…œí”Œë¦¿ì€ ê¸°ì¤€ì´ ë˜ëŠ” ê±°ëŒ€í•œ í‹€ì´ë‹¤. í…œí”Œë¦¿ì´ë¼ëŠ” í‹€ì— ë³€í•˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì„ ëª°ì•„ë‘”ë‹¤. ê·¸ë¦¬ê³  ì¼ë¶€ ë³€í•˜ëŠ” ë¶€ë¶„ì„ ë³„ë„ë¡œ í˜¸ì¶œí•´ì„œ í•´ê²°í•œë‹¤.
<br>

`AbstractTemplate` ì½”ë“œë¥¼ ë³´ì. ë³€í•˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì¸ ì‹œê°„ ì¸¡ì • ë¡œì§ì„ ëª°ì•„ë‘” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì´ì œ ì´ê²ƒì´ í•˜ë‚˜ì˜ í…œí”Œë¦¿ì´ ëœë‹¤. ê·¸ë¦¬ê³  í…œí”Œë¦¿ ì•ˆì—ì„œ ë³€í•˜ëŠ” ë¶€ë¶„ì€ `call()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì„œ ì²˜ë¦¬í•œë‹¤. í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì€ ë¶€ëª¨ í´ë˜ìŠ¤ì— ë³€í•˜ì§€ ì•ŠëŠ” í…œí”Œë¦¿ ì½”ë“œë¥¼ ë‘”ë‹¤. ê·¸ë¦¬ê³  ë³€í•˜ëŠ” ë¶€ë¶„ì€ ìì‹ í´ë˜ìŠ¤ì— ë‘ê³  ìƒì†ê³¼ ì˜¤ë²„ë¼ì´ë”©ì„ ì‚¬ìš©í•´ì„œ ì²˜ë¦¬í•œë‹¤.


**SubClassLogic1**
```java
  @Slf4j
  public class SubClassLogic1 extends AbstractTemplate {
      @Override
      protected void call() {
        log.info("ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§1 ì‹¤í–‰"); 
      }
  }
```
ë³€í•˜ëŠ” ë¶€ë¶„ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§1ì„ ì²˜ë¦¬í•˜ëŠ” ìì‹ í´ë˜ìŠ¤ì´ë‹¤. í…œí”Œë¦¿ì´ í˜¸ì¶œí•˜ëŠ” ëŒ€ìƒì¸ `call()`ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”© í•œë‹¤.

**SubClassLogic2**
```java
  @Slf4j
  public class SubClassLogic2 extends AbstractTemplate {
    @Override
    protected void call() { 
      log.info("ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§2 ì‹¤í–‰");
    } 
  }
```
ë³€í•˜ëŠ” ë¶€ë¶„ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§2ë¥¼ ì²˜ë¦¬í•˜ëŠ” ìì‹ í´ë˜ìŠ¤ì´ë‹¤. í…œí”Œë¦¿ì´ í˜¸ì¶œí•˜ëŠ” ëŒ€ìƒì¸ `call()` ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”© í•œë‹¤.


**TemplateMethodTest - templateMethodV1() ì¶”ê°€**
```java
  /**
   * í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ ì ìš©
   */
  @Test
  void templateMethodV1() {
    AbstractTemplate template1 = new SubClassLogic1();
    template1.execute();
    AbstractTemplate template2 = new SubClassLogic2();
    template2.execute();
  }
```

**ì‹¤í–‰ ê²°ê³¼**
```
ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§1 ì‹¤í–‰ resultTime=0
ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§2 ì‹¤í–‰ resultTime=1
```
<br>

**í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ ì¸ìŠ¤í„´ìŠ¤ í˜¸ì¶œ ê·¸ë¦¼**
![img07](https://user-images.githubusercontent.com/93430103/161556925-83c55a5e-e93c-43c4-87f1-d9054443929d.png)

`template1.execute()` ë¥¼ í˜¸ì¶œí•˜ë©´ í…œí”Œë¦¿ ë¡œì§ì¸ `AbstractTemplate.execute()` ë¥¼ ì‹¤í–‰í•œë‹¤. ì—¬ê¸°ì„œ ì¤‘ê°„ì— `call()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ”ë°, ì´ ë¶€ë¶„ì´ ì˜¤ë²„ë¼ì´ë”© ë˜ì–´ìˆë‹¤. ë”°ë¼ì„œ í˜„ì¬ ì¸ìŠ¤í„´ìŠ¤ì¸ `SubClassLogic1` ì¸ìŠ¤í„´ìŠ¤ì˜ `SubClassLogic1.call()` ë©”ì„œë“œê°€ í˜¸ì¶œëœë‹¤.

í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì€ ì´ë ‡ê²Œ ë‹¤í˜•ì„±ì„ ì‚¬ìš©í•´ì„œ ë³€í•˜ëŠ” ë¶€ë¶„ê³¼ ë³€í•˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì„ ë¶„ë¦¬í•˜ëŠ” ë°©ë²•ì´ë‹¤.

### í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ - ì˜ˆì œ3

**ìµëª… ë‚´ë¶€ í´ë˜ìŠ¤ ì‚¬ìš©í•˜ê¸°**  
í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì€ `SubClassLogic1`, `SubClassLogic2` ì²˜ëŸ¼ í´ë˜ìŠ¤ë¥¼ ê³„ì† ë§Œë“¤ì–´ì•¼ í•˜ëŠ” ë‹¨ì ì´ ìˆë‹¤. ìµëª… ë‚´ë¶€ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ì´ëŸ° ë‹¨ì ì„ ë³´ì™„í•  ìˆ˜ ìˆë‹¤.  
ìµëª… ë‚´ë¶€ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ë©´ì„œ ë™ì‹œì— ìƒì„±í•  í´ë˜ìŠ¤ë¥¼ ìƒì† ë°›ì€ ìì‹ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤. ì´ í´ë˜ìŠ¤ëŠ” `SubClassLogic1` ì²˜ëŸ¼ ì§ì ‘ ì§€ì •í•˜ëŠ” ì´ë¦„ì´ ì—†ê³  í´ë˜ìŠ¤ ë‚´ë¶€ì— ì„ ì–¸ë˜ëŠ” í´ë˜ìŠ¤ì—¬ì„œ ìµëª… ë‚´ë¶€ í´ë˜ìŠ¤ë¼ í•œë‹¤.  

**TemplateMethodTest - templateMethodV2() ì¶”ê°€**

```java
  /**
   * í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´,ìµëª… ë‚´ë¶€ í´ë˜ìŠ¤ ì‚¬ìš©
   */
  @Test
  void templateMethodV2() {
    AbstractTemplate template1 = new AbstractTemplate() {
      @Override
      protected void call() { 
        log.info("ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§1 ì‹¤í–‰");
      }
    };
    log.info("í´ë˜ìŠ¤ ì´ë¦„1={}", template1.getClass()); 
    template1.execute();
    
    AbstractTemplate template2 = new AbstractTemplate() {
      @Override
      protected void call() {
        log.info("ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§1 ì‹¤í–‰");
      }
    };
    log.info("í´ë˜ìŠ¤ ì´ë¦„2={}", template2.getClass());
    template2.execute();
  }
```

**ì‹¤í–‰ ê²°ê³¼**
```
í´ë˜ìŠ¤ ì´ë¦„1 class hello.advanced.trace.template.TemplateMethodTest$1 
ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§1 ì‹¤í–‰
resultTime=3
í´ë˜ìŠ¤ ì´ë¦„2 class hello.advanced.trace.template.TemplateMethodTest$2 
ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§2 ì‹¤í–‰
resultTime=0
```
ì‹¤í–‰ ê²°ê³¼ë¥¼ ë³´ë©´ ìë°”ê°€ ì„ì˜ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” ìµëª… ë‚´ë¶€ í´ë˜ìŠ¤ ì´ë¦„ì€ TemplateMethodTest$1 , TemplateMethodTest$2 ì¸ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

![img08](https://user-images.githubusercontent.com/93430103/161558373-d0549ea4-4640-4e4b-a242-b60a52f1327b.png)

## ğŸ”” ì •ë¦¬
ì˜¤ëŠ˜ì€ GoFë””ìì¸ íŒ¨í„´ì¤‘ í–‰ìœ„ íŒ¨í„´ì˜ ì¢…ë¥˜ ì¤‘ í•˜ë‚˜ì¸ `í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´`ì˜ í•„ìš”í•œ ìƒí™©ê³¼ ì‚¬ìš©ë°©ë²•ì„ ê°„ë‹¨í•œ ì˜ˆì œë¥¼ í†µí•´ ì•Œì•„ë³´ì•˜ë‹¤.  

ì¢‹ì€ ì„¤ê³„ ë¼ëŠ”ê²ƒì€ ë¬´ì—‡ì¼ê¹Œ? ìˆ˜ ë§ì€ ì •ì˜ê°€ ìˆê² ì§€ë§Œ, ì§„ì •í•œ ì¢‹ì€ ì„¤ê³„ëŠ” ë°”ë¡œ `ë³€ê²½`ì´ ì¼ì–´ë‚  ë•Œ ìì—°ìŠ¤ëŸ½ê²Œ ë“œëŸ¬ë‚œë‹¤.  
ìœ„ì˜ ì˜ˆì œì—ì„œ `í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´`ì„ ì ìš©í•˜ê¸° ì „ ì†ŒìŠ¤ì½”ë“œë¥¼ ë³´ì.  
ë¡œê·¸ë¥¼ ë‚¨ê¸°ëŠ” ë¡œì§ì— ìˆ˜ì •ì‚¬í•­ì´ ìƒê¸°ë©´ ë¡œê·¸ë¥¼ ë‚¨ê¸°ëŠ” ëª¨ë“  í´ë˜ìŠ¤ë¥¼ ë‹¤ ì°¾ì•„ì„œ ê³ ì³ì•¼ í•œë‹¤.  
í•˜ì§€ë§Œ `í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´`ì´ ì ìš©ëœ ì†ŒìŠ¤ì½”ë“œëŠ” `AbstractTemplate`ì½”ë“œë§Œ ë³€ê²½í•˜ë©´ ëœë‹¤.  
ë‹¨ìˆœíˆ `í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´`ì„ ì ìš©í•´ì„œ ì†ŒìŠ¤ì½”ë“œ ëª‡ì¤„ì„ ì¤„ì¸ ê²ƒì´ ì „ë¶€ê°€ ì•„ë‹ˆë‹¤.  
ë¡œê·¸ë¥¼ ë‚¨ê¸°ëŠ” ë¶€ë¶„ì— ë‹¨ì¼ ì±…ì„ ì›ì¹™(SRP)ì„ ì§€í‚¤ë„ë¡ í•¨ìœ¼ë¡œì¨ ë³€ê²½ ì§€ì ì„ í•˜ë‚˜ë¡œ ëª¨ì•„ ë³€ê²½ì— ì‰½ê²Œ ëŒ€ì²˜í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ë¥¼ ë§Œë“  ê²ƒì´ë‹¤.


**í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ - ì •ì˜**
GOF ë””ìì¸ íŒ¨í„´ì—ì„œëŠ” í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì„ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜í–ˆë‹¤.  
> í…œí”Œë¦¿ ë©”ì„œë“œ ë””ìì¸ íŒ¨í„´ì˜ ëª©ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.  
  "ì‘ì—…ì—ì„œ ì•Œê³ ë¦¬ì¦˜ì˜ ê³¨ê²©ì„ ì •ì˜í•˜ê³  ì¼ë¶€ ë‹¨ê³„ë¥¼ í•˜ìœ„ í´ë˜ìŠ¤ë¡œ ì—°ê¸°í•©ë‹ˆë‹¤. í…œí”Œë¦¿ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´
  í•˜ìœ„ í´ë˜ìŠ¤ê°€ ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³ ë„ ì•Œê³ ë¦¬ì¦˜ì˜ íŠ¹ì • ë‹¨ê³„ë¥¼ ì¬ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." [GOF]

**GOF í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ ì •ì˜**
![img09](https://user-images.githubusercontent.com/93430103/161655160-2248934b-a81f-4615-b58e-f2ad9ee9135e.png)
í’€ì–´ì„œ ì„¤ëª…í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.  
ë¶€ëª¨ í´ë˜ìŠ¤ì— ì•Œê³ ë¦¬ì¦˜ì˜ ê³¨ê²©ì¸ í…œí”Œë¦¿ì„ ì •ì˜í•˜ê³ , ì¼ë¶€ ë³€ê²½ë˜ëŠ” ë¡œì§ì€ ìì‹ í´ë˜ìŠ¤ì— ì •ì˜í•˜ëŠ” ê²ƒì´ë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ìì‹ í´ë˜ìŠ¤ê°€ ì•Œê³ ë¦¬ì¦˜ì˜ ì „ì²´ êµ¬ì¡°ë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³ , íŠ¹ì • ë¶€ë¶„ë§Œ ì¬ì •ì˜í•  ìˆ˜ ìˆë‹¤. ê²°êµ­ ìƒì†ê³¼ ì˜¤ë²„ë¼ì´ë”©ì„ í†µí•œ ë‹¤í˜•ì„±ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê²ƒì´ë‹¤.

**í•˜ì§€ë§Œ**  
í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì€ ìƒì†ì„ ì‚¬ìš©í•œë‹¤. ë”°ë¼ì„œ ìƒì†ì—ì„œ ì˜¤ëŠ” ë‹¨ì ë“¤ì„ ê·¸ëŒ€ë¡œ ì•ˆê³ ê°„ë‹¤. íŠ¹íˆ ìì‹ í´ë˜ìŠ¤ê°€ ë¶€ëª¨ í´ë˜ìŠ¤ì™€ ì»´íŒŒì¼ ì‹œì ì— ê°•í•˜ê²Œ ê²°í•©ë˜ëŠ” ë¬¸ì œê°€ ìˆë‹¤.  
ì´ê²ƒì€ ì˜ì¡´ê´€ê³„ì— ëŒ€í•œ ë¬¸ì œì´ë‹¤. ìì‹ í´ë˜ìŠ¤ ì…ì¥ì—ì„œëŠ” ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ì„ ì „í˜€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.  
ìœ„ì˜ ì˜ˆì œì—ì„œ ì‘ì„±í–ˆë˜ ì½”ë“œë¥¼ ë³´ë©´ ìì‹ í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•  ë•Œ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•œ ì ì´ ì—†ë‹¤.
ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì„ ìœ„í•´ ìì‹ í´ë˜ìŠ¤ëŠ” ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ìƒì† ë°›ê³  ìˆë‹¤.

ìƒì†ì„ ë°›ëŠ” ë‹¤ëŠ” ê²ƒì€ íŠ¹ì • ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ì˜ì¡´í•˜ê³  ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. ìì‹ í´ë˜ìŠ¤ì˜ `extends` ë‹¤ìŒì— ë°”ë¡œ ë¶€ëª¨ í´ë˜ìŠ¤ê°€ ì½”ë“œìƒì— ì§€ì •ë˜ì–´ ìˆë‹¤. ë”°ë¼ì„œ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë“  ì‚¬ìš©í•˜ì§€ ì•Šë“  ê°„ì— ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ê°•í•˜ê²Œ ì˜ì¡´í•˜ê²Œ ëœë‹¤. ì—¬ê¸°ì„œ ê°•í•˜ê²Œ ì˜ì¡´í•œë‹¤ëŠ” ëœ»ì€ ìì‹ í´ë˜ìŠ¤ì˜ ì½”ë“œì— ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ì½”ë“œê°€ ëª…í™•í•˜ê²Œ ì í˜€ ìˆë‹¤ëŠ” ëœ»ì´ë‹¤. UMLì—ì„œ ìƒì†ì„ ë°›ìœ¼ë©´ ì‚¼ê°í˜• í™”ì‚´í‘œê°€ `ìì‹ -> ë¶€ëª¨` ë¥¼ í–¥í•˜ê³  ìˆëŠ” ê²ƒì€ ì´ëŸ° ì˜ì¡´ê´€ê³„ë¥¼ ë°˜ì˜í•˜ëŠ” ê²ƒì´ë‹¤.

ìì‹ í´ë˜ìŠ¤ ì…ì¥ì—ì„œëŠ” ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ì„ ì „í˜€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë°, ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ì•Œì•„ì•¼í•œë‹¤. ì´ê²ƒì€ ì¢‹ì€ ì„¤ê³„ê°€ ì•„ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ëŸ° ì˜ëª»ëœ ì˜ì¡´ê´€ê³„ ë•Œë¬¸ì— ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ìˆ˜ì •í•˜ë©´, ìì‹ í´ë˜ìŠ¤ì—ë„ ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆë‹¤.

ì¶”ê°€ë¡œ í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì€ ìƒì† êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—, `ë³„ë„ì˜ í´ë˜ìŠ¤`ë‚˜ `ìµëª… ë‚´ë¶€ í´ë˜ìŠ¤`ë¥¼ ë§Œë“¤ì–´ì•¼ í•˜ëŠ” ë¶€ë¶„ë„ ë³µì¡í•˜ë‹¤.

ì§€ê¸ˆê¹Œì§€ ì„¤ëª…í•œ ì´ëŸ° ë¶€ë¶„ë“¤ì„ ë” ê¹”ë”í•˜ê²Œ ê°œì„ í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?
í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ê³¼ ë¹„ìŠ·í•œ ì—­í• ì„ í•˜ë©´ì„œ ìƒì†ì˜ ë‹¨ì ì„ ì œê±°í•  ìˆ˜ ìˆëŠ” ë””ìì¸ íŒ¨í„´ì´ ë°”ë¡œ `ì „ëµ íŒ¨í„´ (Strategy Pattern)`ì´ë‹¤.

ë‹¤ìŒì‹œê°„ì—ëŠ” ì „ëµ íŒ¨í„´ì— ëŒ€í•´ ì•Œì•„ë³´ì. -->

<br>

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}
<br>
